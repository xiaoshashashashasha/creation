{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"main-content\"\n};\nconst _hoisted_2 = {\n  style: {\n    \"text-align\": \"center\",\n    \"margin-top\": \"20px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 返回首页按钮 \"), _createVNode(_component_el_button, {\n    class: \"back-btn\",\n    type: \"primary\",\n    icon: \"el-icon-arrow-left\",\n    plain: \"\",\n    onClick: _ctx.backToHome\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\" 返回首页 \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_row, {\n    gutter: 20,\n    style: {\n      \"padding\": \"20px\"\n    }\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" 左侧申请列表 \"), _createVNode(_component_el_col, {\n      span: 15\n    }, {\n      default: _withCtx(() => [_cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n        class: \"section-title\"\n      }, \"我的门店申请记录\", -1 /* HOISTED */)), _createVNode(_component_el_table, {\n        data: $setup.tableData,\n        style: {\n          \"width\": \"100%\",\n          \"margin-top\": \"10px\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          prop: \"request_id\",\n          label: \"申请ID\",\n          width: \"100\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"target_city\",\n          label: \"目标城市\",\n          width: \"180\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"comment\",\n          label: \"否决原因\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"examine\",\n          label: \"状态\",\n          width: \"120\"\n        }, {\n          default: _withCtx(({\n            row\n          }) => [_createVNode(_component_el_tag, {\n            type: row.examine === 0 ? 'success' : row.examine === 1 ? 'danger' : 'warning'\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(row.examine === 0 ? '已通过' : row.examine === 1 ? '被打回' : '审核中'), 1 /* TEXT */)]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"data\"]), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_pagination, {\n        background: \"\",\n        layout: \"prev, pager, next, ->, total\",\n        total: $setup.total,\n        \"current-page\": $setup.pageNum,\n        \"page-size\": $setup.pageSize,\n        onCurrentChange: $setup.handlePageChange\n      }, null, 8 /* PROPS */, [\"total\", \"current-page\", \"page-size\"])])]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 右侧提交表单 \"), _createVNode(_component_el_col, {\n      span: 9\n    }, {\n      default: _withCtx(() => [_cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n        class: \"section-title\"\n      }, \"发起新申请\", -1 /* HOISTED */)), _createVNode(_component_el_form, {\n        model: $setup.newRequest,\n        \"label-width\": \"80px\",\n        style: {\n          \"margin-top\": \"20px\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form_item, {\n          label: \"目标城市\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.newRequest.target_city,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.newRequest.target_city = $event),\n            placeholder: \"请输入城市名称\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, null, {\n          default: _withCtx(() => [_createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: $setup.submitRequest\n          }, {\n            default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"提交申请\")])),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","_component_el_button","type","icon","plain","onClick","_ctx","backToHome","default","_withCtx","_cache","_createTextVNode","_","_component_el_row","gutter","_component_el_col","span","_createElementVNode","_component_el_table","data","$setup","tableData","_component_el_table_column","prop","label","width","row","_component_el_tag","examine","_toDisplayString","_hoisted_2","_component_el_pagination","background","layout","total","pageNum","pageSize","onCurrentChange","handlePageChange","_component_el_form","model","newRequest","_component_el_form_item","_component_el_input","modelValue","target_city","$event","placeholder","submitRequest"],"sources":["C:\\Users\\32561\\Desktop\\毕设仓库\\beauty-front\\src\\views\\Mine\\MyRequest.vue"],"sourcesContent":["<script setup>\r\nimport {onMounted, ref} from \"vue\"\r\nimport {ElMessage} from \"element-plus\"\r\nimport {offlineRequestList, addRequest} from \"@/api/offline\"\r\n\r\nconst tableData = ref([])\r\nconst pageNum = ref(1)\r\nconst pageSize = ref(15)\r\nconst total = ref(0)\r\n\r\n// 新申请表单\r\nconst newRequest = ref({\r\n  target_city: \"\"\r\n})\r\n\r\nconst fetchMyRequests = async () => {\r\n  try {\r\n    const res = await offlineRequestList({\r\n      pageNum: pageNum.value,\r\n      pageSize: pageSize.value\r\n    })\r\n    tableData.value = res.data.items || []\r\n    total.value = res.data.total || 0\r\n  } catch (err) {\r\n    ElMessage.error(err.msg || \"获取申请列表失败\")\r\n  }\r\n}\r\n\r\nconst handlePageChange = (newPage) => {\r\n  pageNum.value = newPage\r\n  fetchMyRequests()\r\n}\r\n\r\nconst submitRequest = async () => {\r\n  if (!newRequest.value.target_city.trim()) {\r\n    return ElMessage.warning(\"请填写目标城市\")\r\n  }\r\n  try {\r\n    console.log(newRequest.value.target_city)\r\n    await addRequest(newRequest.value)\r\n    ElMessage.success(\"申请已提交\")\r\n    newRequest.value.target_city = \"\"\r\n    fetchMyRequests()\r\n  } catch (err) {\r\n    ElMessage.error(err.msg || \"提交失败\")\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  fetchMyRequests()\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"main-content\">\r\n    <!-- 返回首页按钮 -->\r\n    <el-button\r\n        class=\"back-btn\"\r\n        type=\"primary\"\r\n        icon=\"el-icon-arrow-left\"\r\n        plain\r\n        @click=\"backToHome\"\r\n    >\r\n      返回首页\r\n    </el-button>\r\n    <el-row :gutter=\"20\" style=\"padding: 20px\">\r\n      <!-- 左侧申请列表 -->\r\n      <el-col :span=\"15\">\r\n        <div class=\"section-title\">我的门店申请记录</div>\r\n        <el-table :data=\"tableData\" style=\"width: 100%; margin-top: 10px\">\r\n          <el-table-column prop=\"request_id\" label=\"申请ID\" width=\"100\"/>\r\n          <el-table-column prop=\"target_city\" label=\"目标城市\" width=\"180\"/>\r\n          <el-table-column prop=\"comment\" label=\"否决原因\"/>\r\n          <el-table-column prop=\"examine\" label=\"状态\" width=\"120\">\r\n            <template #default=\"{ row }\">\r\n              <el-tag\r\n                  :type=\"row.examine === 0 ? 'success' : row.examine === 1 ? 'danger' : 'warning'\"\r\n              >\r\n                {{\r\n                  row.examine === 0\r\n                      ? '已通过'\r\n                      : row.examine === 1\r\n                          ? '被打回'\r\n                          : '审核中'\r\n                }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <div style=\"text-align: center; margin-top: 20px\">\r\n          <el-pagination\r\n              background\r\n              layout=\"prev, pager, next, ->, total\"\r\n              :total=\"total\"\r\n              :current-page=\"pageNum\"\r\n              :page-size=\"pageSize\"\r\n              @current-change=\"handlePageChange\"\r\n          />\r\n        </div>\r\n\r\n      </el-col>\r\n\r\n      <!-- 右侧提交表单 -->\r\n      <el-col :span=\"9\">\r\n        <div class=\"section-title\">发起新申请</div>\r\n        <el-form :model=\"newRequest\" label-width=\"80px\" style=\"margin-top: 20px\">\r\n          <el-form-item label=\"目标城市\">\r\n            <el-input v-model=\"newRequest.target_city\" placeholder=\"请输入城市名称\"/>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submitRequest\">提交申请</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.main-content {\r\n  flex: 1;\r\n  width: 1720px;\r\n  margin: 0 auto;\r\n  background: #e8e4e4;\r\n}\r\n.section-title {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  background-color: #eef1f6;\r\n  padding: 10px 15px;\r\n  border-left: 5px solid #409EFF;\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}