{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ManageSwitch from \"@/components/ManageSwitch.vue\";\nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\n\n// 接收从父组件传来的 role 值\n\nexport default {\n  __name: 'beauty_top',\n  props: {\n    sta: {\n      type: Number,\n      default: 3 // 默认未登录或无权限\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const router = useRouter();\n\n    // 基于 role 值派生三个控制变量\n    const content = computed(() => props.sta === 0 || props.sta === 1 || props.sta === 2);\n    const create = computed(() => props.sta === 0 || props.sta === 1);\n    const mswitch = computed(() => props.sta === 1);\n\n    // 切换视图时跳转路由\n    const handleModeChange = isManage => {\n      if (isManage) {\n        router.push('/');\n      } else {\n        router.push('/manage');\n      }\n    };\n    const __returned__ = {\n      props,\n      router,\n      content,\n      create,\n      mswitch,\n      handleModeChange,\n      ManageSwitch,\n      computed,\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ManageSwitch","computed","useRouter","props","__props","router","content","sta","create","mswitch","handleModeChange","isManage","push"],"sources":["C:/Users/32561/Desktop/毕设仓库/beauty-front/src/components/beauty_top.vue"],"sourcesContent":["<script setup>\r\nimport ManageSwitch from \"@/components/ManageSwitch.vue\";\r\nimport { computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\n\r\n// 接收从父组件传来的 role 值\r\nconst props = defineProps({\r\n  sta: {\r\n    type: Number,\r\n    default: 3 // 默认未登录或无权限\r\n  }\r\n})\r\n\r\nconst router = useRouter()\r\n\r\n// 基于 role 值派生三个控制变量\r\nconst content = computed(() => props.sta === 0 || props.sta === 1 || props.sta === 2)\r\nconst create = computed(() => props.sta === 0 || props.sta === 1)\r\nconst mswitch = computed(() => props.sta === 1)\r\n\r\n// 切换视图时跳转路由\r\nconst handleModeChange = (isManage) => {\r\n  if (isManage) {\r\n    router.push('/')\r\n  } else {\r\n    router.push('/manage')\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"top-box\">\r\n    <p class=\"logo\">Beauty</p>\r\n\r\n    <!-- 显示按钮部分 -->\r\n    <template v-if=\"create\">\r\n      <el-button class=\"plus_btn\">+</el-button>\r\n    </template>\r\n\r\n    <template v-if=\"content\">\r\n      <el-button class=\"creation_btn\">内 容</el-button>\r\n      <el-button class=\"haristyle_btn\">发 型</el-button>\r\n      <el-button class=\"offline_btn\">线下门店</el-button>\r\n    </template>\r\n\r\n    <!-- 显示切换开关 -->\r\n    <ManageSwitch\r\n        v-if=\"mswitch\"\r\n        class=\"manage-switch\"\r\n        @modeChange=\"handleModeChange\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* 样式不变 */\r\n</style>\r\n"],"mappings":";AACA,OAAOA,YAAY,MAAM,+BAA+B;AACxD,SAASC,QAAQ,QAAQ,KAAK;AAC9B,SAASC,SAAS,QAAQ,YAAY;;AAEtC;;;;;;;;;;;;;;IACA,MAAMC,KAAK,GAAGC,OAKZ;IAEF,MAAMC,MAAM,GAAGH,SAAS,CAAC,CAAC;;IAE1B;IACA,MAAMI,OAAO,GAAGL,QAAQ,CAAC,MAAME,KAAK,CAACI,GAAG,KAAK,CAAC,IAAIJ,KAAK,CAACI,GAAG,KAAK,CAAC,IAAIJ,KAAK,CAACI,GAAG,KAAK,CAAC,CAAC;IACrF,MAAMC,MAAM,GAAGP,QAAQ,CAAC,MAAME,KAAK,CAACI,GAAG,KAAK,CAAC,IAAIJ,KAAK,CAACI,GAAG,KAAK,CAAC,CAAC;IACjE,MAAME,OAAO,GAAGR,QAAQ,CAAC,MAAME,KAAK,CAACI,GAAG,KAAK,CAAC,CAAC;;IAE/C;IACA,MAAMG,gBAAgB,GAAIC,QAAQ,IAAK;MACrC,IAAIA,QAAQ,EAAE;QACZN,MAAM,CAACO,IAAI,CAAC,GAAG,CAAC;MAClB,CAAC,MAAM;QACLP,MAAM,CAACO,IAAI,CAAC,SAAS,CAAC;MACxB;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}