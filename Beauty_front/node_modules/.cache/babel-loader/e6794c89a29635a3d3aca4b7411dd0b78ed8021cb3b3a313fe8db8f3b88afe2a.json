{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport Login_Register from \"@/views/Login_Register.vue\";\nimport HomePage from \"@/views/HomePage.vue\";\nimport ManagePage from \"@/views/ManagePage.vue\";\nimport ChangeRole from \"@/views/manage/user/ChangeRole.vue\";\nimport ClassManage from \"@/views/manage/creation/ClassManage.vue\";\nimport TagManage from \"@/views/manage/creation/TagManage.vue\";\nimport CreationManage from \"@/views/manage/creation/CreationManage.vue\";\nimport CreationExamine from \"@/views/manage/creation/CreationExamine.vue\";\nimport HairstyleManage from \"@/views/manage/hairstyle/HairstyleManage.vue\";\nimport RequestManage from \"@/views/manage/offline/RequestManage.vue\";\nimport { useTokenStore } from \"@/stores/token\";\nimport ContentPage from \"@/views/ContentPage.vue\";\nimport CreationsPage from \"@/views/CreationsPage.vue\";\nimport HairstylesPage from \"@/views/HairstylesPage.vue\";\nimport OfflinesPage from \"@/views/OfflinesPage.vue\";\nimport MyInfoPage from \"@/views/MyInfoPage.vue\";\n\n//定义路由关系\nconst routes = [{\n  path: \"/login\",\n  component: Login_Register\n}, {\n  path: \"/\",\n  component: HomePage,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/content/:type/:id\",\n  component: ContentPage,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/creations\",\n  component: CreationsPage,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/hairstyles\",\n  component: HairstylesPage,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/offlines\",\n  component: OfflinesPage,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/myInfo\",\n  component: MyInfoPage,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/manage\",\n  component: ManagePage,\n  children: [{\n    path: \"/user/change-role\",\n    component: ChangeRole\n  }, {\n    path: \"/creation/class-manage\",\n    component: ClassManage\n  }, {\n    path: \"/creation/tag-manage\",\n    component: TagManage\n  }, {\n    path: \"/creation/creation-manage\",\n    component: CreationManage\n  }, {\n    path: \"/creation/creation-examine\",\n    component: CreationExamine\n  }, {\n    path: \"/hairstyle/hairstyle-manage\",\n    component: HairstyleManage\n  }, {\n    path: \"/offline/request-manage\",\n    component: RequestManage\n  }],\n  meta: {\n    requiresAuth: true\n  }\n}];\n\n//创建路由器\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: routes\n});\nrouter.beforeEach((to, from, next) => {\n  const tokenStore = useTokenStore();\n  const token = tokenStore.token;\n  if (to.meta.requiresAuth && !token) {\n    next('/login');\n  } else {\n    next();\n  }\n});\n\n//导出路由器\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Login_Register","HomePage","ManagePage","ChangeRole","ClassManage","TagManage","CreationManage","CreationExamine","HairstyleManage","RequestManage","useTokenStore","ContentPage","CreationsPage","HairstylesPage","OfflinesPage","MyInfoPage","routes","path","component","meta","requiresAuth","children","router","history","beforeEach","to","from","next","tokenStore","token"],"sources":["C:/Users/32561/Desktop/毕设仓库/beauty-front/src/router/index.js"],"sourcesContent":["import {createRouter, createWebHistory} from 'vue-router'\r\n\r\n\r\nimport Login_Register from \"@/views/Login_Register.vue\";\r\nimport HomePage from \"@/views/HomePage.vue\";\r\nimport ManagePage from \"@/views/ManagePage.vue\";\r\nimport ChangeRole from \"@/views/manage/user/ChangeRole.vue\";\r\nimport ClassManage from \"@/views/manage/creation/ClassManage.vue\";\r\nimport TagManage from \"@/views/manage/creation/TagManage.vue\";\r\nimport CreationManage from \"@/views/manage/creation/CreationManage.vue\";\r\nimport CreationExamine from \"@/views/manage/creation/CreationExamine.vue\";\r\nimport HairstyleManage from \"@/views/manage/hairstyle/HairstyleManage.vue\";\r\nimport RequestManage from \"@/views/manage/offline/RequestManage.vue\";\r\nimport {useTokenStore} from \"@/stores/token\";\r\nimport ContentPage from \"@/views/ContentPage.vue\";\r\nimport CreationsPage from \"@/views/CreationsPage.vue\";\r\nimport HairstylesPage from \"@/views/HairstylesPage.vue\";\r\nimport OfflinesPage from \"@/views/OfflinesPage.vue\";\r\nimport MyInfoPage from \"@/views/MyInfoPage.vue\";\r\n\r\n\r\n//定义路由关系\r\nconst routes = [\r\n    {path: \"/login\", component: Login_Register},\r\n    {\r\n        path: \"/\",\r\n        component: HomePage,\r\n        meta: {requiresAuth: true}\r\n    },\r\n    {\r\n        path: \"/content/:type/:id\",\r\n        component: ContentPage,\r\n        meta: {requiresAuth: true}\r\n    },\r\n    {\r\n        path: \"/creations\",\r\n        component: CreationsPage,\r\n        meta: {requiresAuth: true}\r\n    },\r\n    {\r\n        path: \"/hairstyles\",\r\n        component: HairstylesPage,\r\n        meta: {requiresAuth: true}\r\n    },\r\n    {\r\n        path: \"/offlines\",\r\n        component: OfflinesPage,\r\n        meta: {requiresAuth: true}\r\n    },\r\n    {\r\n        path: \"/myInfo\",\r\n        component: MyInfoPage,\r\n        meta: {requiresAuth: true}\r\n    },\r\n    {\r\n        path: \"/manage\",\r\n        component: ManagePage,\r\n        children: [\r\n            {path: \"/user/change-role\", component: ChangeRole},\r\n            {path: \"/creation/class-manage\", component: ClassManage},\r\n            {path: \"/creation/tag-manage\", component: TagManage},\r\n            {path: \"/creation/creation-manage\", component: CreationManage},\r\n            {path: \"/creation/creation-examine\", component: CreationExamine},\r\n            {path: \"/hairstyle/hairstyle-manage\", component: HairstyleManage},\r\n            {path: \"/offline/request-manage\", component: RequestManage},\r\n        ],\r\n        meta: {requiresAuth: true}\r\n    }\r\n]\r\n\r\n//创建路由器\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes: routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    const tokenStore = useTokenStore()\r\n    const token = tokenStore.token\r\n\r\n    if (to.meta.requiresAuth && !token) {\r\n        next('/login')\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\n//导出路由器\r\nexport default router;\r\n\r\n"],"mappings":"AAAA,SAAQA,YAAY,EAAEC,gBAAgB,QAAO,YAAY;AAGzD,OAAOC,cAAc,MAAM,4BAA4B;AACvD,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,OAAOC,UAAU,MAAM,wBAAwB;AAC/C,OAAOC,UAAU,MAAM,oCAAoC;AAC3D,OAAOC,WAAW,MAAM,yCAAyC;AACjE,OAAOC,SAAS,MAAM,uCAAuC;AAC7D,OAAOC,cAAc,MAAM,4CAA4C;AACvE,OAAOC,eAAe,MAAM,6CAA6C;AACzE,OAAOC,eAAe,MAAM,8CAA8C;AAC1E,OAAOC,aAAa,MAAM,0CAA0C;AACpE,SAAQC,aAAa,QAAO,gBAAgB;AAC5C,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,aAAa,MAAM,2BAA2B;AACrD,OAAOC,cAAc,MAAM,4BAA4B;AACvD,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,UAAU,MAAM,wBAAwB;;AAG/C;AACA,MAAMC,MAAM,GAAG,CACX;EAACC,IAAI,EAAE,QAAQ;EAAEC,SAAS,EAAElB;AAAc,CAAC,EAC3C;EACIiB,IAAI,EAAE,GAAG;EACTC,SAAS,EAAEjB,QAAQ;EACnBkB,IAAI,EAAE;IAACC,YAAY,EAAE;EAAI;AAC7B,CAAC,EACD;EACIH,IAAI,EAAE,oBAAoB;EAC1BC,SAAS,EAAEP,WAAW;EACtBQ,IAAI,EAAE;IAACC,YAAY,EAAE;EAAI;AAC7B,CAAC,EACD;EACIH,IAAI,EAAE,YAAY;EAClBC,SAAS,EAAEN,aAAa;EACxBO,IAAI,EAAE;IAACC,YAAY,EAAE;EAAI;AAC7B,CAAC,EACD;EACIH,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEL,cAAc;EACzBM,IAAI,EAAE;IAACC,YAAY,EAAE;EAAI;AAC7B,CAAC,EACD;EACIH,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEJ,YAAY;EACvBK,IAAI,EAAE;IAACC,YAAY,EAAE;EAAI;AAC7B,CAAC,EACD;EACIH,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEH,UAAU;EACrBI,IAAI,EAAE;IAACC,YAAY,EAAE;EAAI;AAC7B,CAAC,EACD;EACIH,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEhB,UAAU;EACrBmB,QAAQ,EAAE,CACN;IAACJ,IAAI,EAAE,mBAAmB;IAAEC,SAAS,EAAEf;EAAU,CAAC,EAClD;IAACc,IAAI,EAAE,wBAAwB;IAAEC,SAAS,EAAEd;EAAW,CAAC,EACxD;IAACa,IAAI,EAAE,sBAAsB;IAAEC,SAAS,EAAEb;EAAS,CAAC,EACpD;IAACY,IAAI,EAAE,2BAA2B;IAAEC,SAAS,EAAEZ;EAAc,CAAC,EAC9D;IAACW,IAAI,EAAE,4BAA4B;IAAEC,SAAS,EAAEX;EAAe,CAAC,EAChE;IAACU,IAAI,EAAE,6BAA6B;IAAEC,SAAS,EAAEV;EAAe,CAAC,EACjE;IAACS,IAAI,EAAE,yBAAyB;IAAEC,SAAS,EAAET;EAAa,CAAC,CAC9D;EACDU,IAAI,EAAE;IAACC,YAAY,EAAE;EAAI;AAC7B,CAAC,CACJ;;AAED;AACA,MAAME,MAAM,GAAGxB,YAAY,CAAC;EACxByB,OAAO,EAAExB,gBAAgB,CAAC,CAAC;EAC3BiB,MAAM,EAAEA;AACZ,CAAC,CAAC;AAEFM,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,MAAMC,UAAU,GAAGlB,aAAa,CAAC,CAAC;EAClC,MAAMmB,KAAK,GAAGD,UAAU,CAACC,KAAK;EAE9B,IAAIJ,EAAE,CAACN,IAAI,CAACC,YAAY,IAAI,CAACS,KAAK,EAAE;IAChCF,IAAI,CAAC,QAAQ,CAAC;EAClB,CAAC,MAAM;IACHA,IAAI,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;;AAEF;AACA,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}