{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"article-card\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  class: \"card-title\"\n};\nconst _hoisted_4 = {\n  class: \"card-summary\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_skeleton_item = _resolveComponent(\"el-skeleton-item\");\n  const _component_el_skeleton = _resolveComponent(\"el-skeleton\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_skeleton, {\n    loading: $setup.loading,\n    animated: \"\"\n  }, {\n    template: _withCtx(() => [_createCommentVNode(\" 图片骨架 \"), _createVNode(_component_el_skeleton_item, {\n      variant: \"image\",\n      style: {\n        \"width\": \"280px\",\n        \"height\": \"140px\"\n      }\n    }), _createCommentVNode(\" 标题骨架 \"), _createVNode(_component_el_skeleton_item, {\n      variant: \"text\",\n      style: {\n        \"width\": \"130px\",\n        \"height\": \"35px\",\n        \"margin-top\": \"10px\"\n      }\n    }), _createCommentVNode(\" 摘要骨架 \"), _createVNode(_component_el_skeleton_item, {\n      variant: \"text\",\n      style: {\n        \"width\": \"260px\",\n        \"height\": \"35px\",\n        \"margin-top\": \"10px\"\n      }\n    })]),\n    default: _withCtx(() => [_createElementVNode(\"img\", {\n      src: $setup.image,\n      alt: \"文章图片\",\n      class: \"card-image\"\n    }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"div\", _hoisted_3, _toDisplayString($setup.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_4, _toDisplayString($setup.abs_text), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"loading\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_skeleton","loading","$setup","animated","template","_withCtx","_createCommentVNode","_component_el_skeleton_item","variant","style","default","_createElementVNode","src","image","alt","_hoisted_2","_hoisted_3","_toDisplayString","title","_hoisted_4","abs_text","_"],"sources":["C:\\Users\\32561\\Desktop\\毕设仓库\\beauty-front\\src\\components\\CardCreation.vue"],"sourcesContent":["<template>\r\n  <div class=\"article-card\">\r\n    <el-skeleton :loading=\"loading\" animated>\r\n      <template #template>\r\n        <!-- 图片骨架 -->\r\n        <el-skeleton-item variant=\"image\" style=\"width: 280px; height: 140px;\"/>\r\n        <!-- 标题骨架 -->\r\n        <el-skeleton-item variant=\"text\" style=\"width: 130px; height: 35px; margin-top: 10px;\"/>\r\n        <!-- 摘要骨架 -->\r\n        <el-skeleton-item variant=\"text\" style=\"width: 260px; height: 35px;  margin-top: 10px;\"/>\r\n      </template>\r\n\r\n      <template #default>\r\n        <img :src=\"image\" alt=\"文章图片\" class=\"card-image\"/>\r\n        <div class=\"card-title\">{{ title }}</div>\r\n        <div class=\"card-summary\">{{ abs_text }}</div>\r\n      </template>\r\n    </el-skeleton>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {ref, onMounted} from 'vue'\r\nimport {creationInfo} from '@/api/creation'\r\nimport {nextTick} from \"vue-demi\";\r\n\r\n// 组件的props\r\nconst props = defineProps({\r\n  creation_id: {\r\n    type: Number, // 使用数值类型\r\n    required: true\r\n  },\r\n  loading: {\r\n    type: Boolean,\r\n    default: true\r\n  }\r\n})\r\n\r\nconst image = ref('')\r\nconst title = ref('')\r\nconst abs_text = ref('')\r\nconst loading = ref(true)\r\n\r\nconst fetchData = async () => {\r\n  try {\r\n    const res = await creationInfo(props.creation_id)\r\n    if (res && res.data) {\r\n      image.value = res.data.cover_pic\r\n      title.value = res.data.title\r\n      abs_text.value = res.data.abs_text\r\n      nextTick(() => {\r\n        loading.value = false // 更新 loading 状态\r\n        emit('update-loading1', false)\r\n      })\r\n    } else {\r\n      throw new Error(\"数据未能正确返回\")\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error)\r\n    loading.value = false // 即使出错也会关闭骨架屏\r\n    emit('update-loading1', false)\r\n  }\r\n}\r\n\r\n// 在组件挂载时请求数据\r\nonMounted(() => {\r\n  fetchData()\r\n})\r\n\r\n// 触发事件来通知父组件\r\nconst emit = defineEmits(['update-loading'])\r\n</script>\r\n\r\n<style scoped>\r\n.article-card {\r\n  width: 280px;\r\n  height: 240px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n  background-color: #fff;\r\n}\r\n\r\n.card-image {\r\n  width: 100%;\r\n  height: 140px;\r\n  object-fit: cover;\r\n}\r\n\r\n.card-title,\r\n.card-summary {\r\n  width: 100%;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  padding: 0 10px;\r\n  font-size: 16px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.card-title {\r\n  font-weight: bold;\r\n  color: #333;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.card-summary {\r\n  color: #666;\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAc;mBAD3B;;EAcaA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAc;;;;uBAd/BC,mBAAA,CAiBM,OAjBNC,UAiBM,GAhBJC,YAAA,CAecC,sBAAA;IAfAC,OAAO,EAAEC,MAAA,CAAAD,OAAO;IAAEE,QAAQ,EAAR;;IACnBC,QAAQ,EAAAC,QAAA,CACjB,MAAa,CAAbC,mBAAA,UAAa,EACbP,YAAA,CAAwEQ,2BAAA;MAAtDC,OAAO,EAAC,OAAO;MAACC,KAAoC,EAApC;QAAA;QAAA;MAAA;QAClCH,mBAAA,UAAa,EACbP,YAAA,CAAwFQ,2BAAA;MAAtEC,OAAO,EAAC,MAAM;MAACC,KAAqD,EAArD;QAAA;QAAA;QAAA;MAAA;QACjCH,mBAAA,UAAa,EACbP,YAAA,CAAyFQ,2BAAA;MAAvEC,OAAO,EAAC,MAAM;MAACC,KAAsD,EAAtD;QAAA;QAAA;QAAA;MAAA;;IAGxBC,OAAO,EAAAL,QAAA,CAChB,MAAiD,CAAjDM,mBAAA,CAAiD;MAA3CC,GAAG,EAAEV,MAAA,CAAAW,KAAK;MAAEC,GAAG,EAAC,MAAM;MAAClB,KAAK,EAAC;4BAb3CmB,UAAA,GAcQJ,mBAAA,CAAyC,OAAzCK,UAAyC,EAAAC,gBAAA,CAAdf,MAAA,CAAAgB,KAAK,kBAChCP,mBAAA,CAA8C,OAA9CQ,UAA8C,EAAAF,gBAAA,CAAjBf,MAAA,CAAAkB,QAAQ,iB;IAf7CC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}