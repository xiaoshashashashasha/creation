{"ast":null,"code":"import { getText, getTextSerializersFromSchema, posToDOMRect, Extension } from '@tiptap/core';\nimport { Plugin, PluginKey } from '@tiptap/pm/state';\nimport tippy from 'tippy.js';\nclass FloatingMenuView {\n  getTextContent(node) {\n    return getText(node, {\n      textSerializers: getTextSerializersFromSchema(this.editor.schema)\n    });\n  }\n  constructor({\n    editor,\n    element,\n    view,\n    tippyOptions = {},\n    shouldShow\n  }) {\n    this.preventHide = false;\n    this.shouldShow = ({\n      view,\n      state\n    }) => {\n      const {\n        selection\n      } = state;\n      const {\n        $anchor,\n        empty\n      } = selection;\n      const isRootDepth = $anchor.depth === 1;\n      const isEmptyTextBlock = $anchor.parent.isTextblock && !$anchor.parent.type.spec.code && !$anchor.parent.textContent && $anchor.parent.childCount === 0 && !this.getTextContent($anchor.parent);\n      if (!view.hasFocus() || !empty || !isRootDepth || !isEmptyTextBlock || !this.editor.isEditable) {\n        return false;\n      }\n      return true;\n    };\n    this.mousedownHandler = () => {\n      this.preventHide = true;\n    };\n    this.focusHandler = () => {\n      // we use `setTimeout` to make sure `selection` is already updated\n      setTimeout(() => this.update(this.editor.view));\n    };\n    this.blurHandler = ({\n      event\n    }) => {\n      var _a;\n      if (this.preventHide) {\n        this.preventHide = false;\n        return;\n      }\n      if ((event === null || event === void 0 ? void 0 : event.relatedTarget) && ((_a = this.element.parentNode) === null || _a === void 0 ? void 0 : _a.contains(event.relatedTarget))) {\n        return;\n      }\n      if ((event === null || event === void 0 ? void 0 : event.relatedTarget) === this.editor.view.dom) {\n        return;\n      }\n      this.hide();\n    };\n    this.tippyBlurHandler = event => {\n      this.blurHandler({\n        event\n      });\n    };\n    this.editor = editor;\n    this.element = element;\n    this.view = view;\n    if (shouldShow) {\n      this.shouldShow = shouldShow;\n    }\n    this.element.addEventListener('mousedown', this.mousedownHandler, {\n      capture: true\n    });\n    this.editor.on('focus', this.focusHandler);\n    this.editor.on('blur', this.blurHandler);\n    this.tippyOptions = tippyOptions;\n    // Detaches menu content from its current parent\n    this.element.remove();\n    this.element.style.visibility = 'visible';\n  }\n  createTooltip() {\n    const {\n      element: editorElement\n    } = this.editor.options;\n    const editorIsAttached = !!editorElement.parentElement;\n    if (this.tippy || !editorIsAttached) {\n      return;\n    }\n    this.tippy = tippy(editorElement, {\n      duration: 0,\n      getReferenceClientRect: null,\n      content: this.element,\n      interactive: true,\n      trigger: 'manual',\n      placement: 'right',\n      hideOnClick: 'toggle',\n      ...this.tippyOptions\n    });\n    // maybe we have to hide tippy on its own blur event as well\n    if (this.tippy.popper.firstChild) {\n      this.tippy.popper.firstChild.addEventListener('blur', this.tippyBlurHandler);\n    }\n  }\n  update(view, oldState) {\n    var _a, _b, _c;\n    const {\n      state\n    } = view;\n    const {\n      doc,\n      selection\n    } = state;\n    const {\n      from,\n      to\n    } = selection;\n    const isSame = oldState && oldState.doc.eq(doc) && oldState.selection.eq(selection);\n    if (isSame) {\n      return;\n    }\n    this.createTooltip();\n    const shouldShow = (_a = this.shouldShow) === null || _a === void 0 ? void 0 : _a.call(this, {\n      editor: this.editor,\n      view,\n      state,\n      oldState\n    });\n    if (!shouldShow) {\n      this.hide();\n      return;\n    }\n    (_b = this.tippy) === null || _b === void 0 ? void 0 : _b.setProps({\n      getReferenceClientRect: ((_c = this.tippyOptions) === null || _c === void 0 ? void 0 : _c.getReferenceClientRect) || (() => posToDOMRect(view, from, to))\n    });\n    this.show();\n  }\n  show() {\n    var _a;\n    (_a = this.tippy) === null || _a === void 0 ? void 0 : _a.show();\n  }\n  hide() {\n    var _a;\n    (_a = this.tippy) === null || _a === void 0 ? void 0 : _a.hide();\n  }\n  destroy() {\n    var _a, _b;\n    if ((_a = this.tippy) === null || _a === void 0 ? void 0 : _a.popper.firstChild) {\n      this.tippy.popper.firstChild.removeEventListener('blur', this.tippyBlurHandler);\n    }\n    (_b = this.tippy) === null || _b === void 0 ? void 0 : _b.destroy();\n    this.element.removeEventListener('mousedown', this.mousedownHandler, {\n      capture: true\n    });\n    this.editor.off('focus', this.focusHandler);\n    this.editor.off('blur', this.blurHandler);\n  }\n}\nconst FloatingMenuPlugin = options => {\n  return new Plugin({\n    key: typeof options.pluginKey === 'string' ? new PluginKey(options.pluginKey) : options.pluginKey,\n    view: view => new FloatingMenuView({\n      view,\n      ...options\n    })\n  });\n};\n\n/**\n * This extension allows you to create a floating menu.\n * @see https://tiptap.dev/api/extensions/floating-menu\n */\nconst FloatingMenu = Extension.create({\n  name: 'floatingMenu',\n  addOptions() {\n    return {\n      element: null,\n      tippyOptions: {},\n      pluginKey: 'floatingMenu',\n      shouldShow: null\n    };\n  },\n  addProseMirrorPlugins() {\n    if (!this.options.element) {\n      return [];\n    }\n    return [FloatingMenuPlugin({\n      pluginKey: this.options.pluginKey,\n      editor: this.editor,\n      element: this.options.element,\n      tippyOptions: this.options.tippyOptions,\n      shouldShow: this.options.shouldShow\n    })];\n  }\n});\nexport { FloatingMenu, FloatingMenuPlugin, FloatingMenuView, FloatingMenu as default };","map":{"version":3,"names":["FloatingMenuView","getTextContent","node","getText","textSerializers","getTextSerializersFromSchema","editor","schema","constructor","element","view","tippyOptions","shouldShow","preventHide","state","selection","$anchor","empty","isRootDepth","depth","isEmptyTextBlock","parent","isTextblock","type","spec","code","textContent","childCount","hasFocus","isEditable","mousedownHandler","focusHandler","setTimeout","update","blurHandler","event","relatedTarget","_a","parentNode","contains","dom","hide","tippyBlurHandler","addEventListener","capture","on","remove","style","visibility","createTooltip","editorElement","options","editorIsAttached","parentElement","tippy","duration","getReferenceClientRect","content","interactive","trigger","placement","hideOnClick","popper","firstChild","oldState","doc","from","to","isSame","eq","call","_b","setProps","_c","posToDOMRect","show","destroy","removeEventListener","off","FloatingMenuPlugin","Plugin","key","pluginKey","PluginKey","FloatingMenu","Extension","create","name","addOptions","addProseMirrorPlugins"],"sources":["../src/floating-menu-plugin.ts","../src/floating-menu.ts"],"sourcesContent":["import {\n  Editor, getText, getTextSerializersFromSchema, posToDOMRect,\n} from '@tiptap/core'\nimport { Node as ProseMirrorNode } from '@tiptap/pm/model'\nimport { EditorState, Plugin, PluginKey } from '@tiptap/pm/state'\nimport { EditorView } from '@tiptap/pm/view'\nimport tippy, { Instance, Props } from 'tippy.js'\n\nexport interface FloatingMenuPluginProps {\n  /**\n   * The plugin key for the floating menu.\n   * @default 'floatingMenu'\n   */\n  pluginKey: PluginKey | string\n\n  /**\n   * The editor instance.\n   * @default null\n   */\n  editor: Editor\n\n  /**\n   * The DOM element that contains your menu.\n   * @default null\n   */\n  element: HTMLElement\n\n  /**\n   * The options for the tippy instance.\n   * @default {}\n   * @see https://atomiks.github.io/tippyjs/v6/all-props/\n   */\n  tippyOptions?: Partial<Props>\n\n  /**\n   * A function that determines whether the menu should be shown or not.\n   * If this function returns `false`, the menu will be hidden, otherwise it will be shown.\n   * @default null\n   */\n  shouldShow?:\n    | ((props: {\n        editor: Editor\n        view: EditorView\n        state: EditorState\n        oldState?: EditorState\n      }) => boolean)\n    | null\n}\n\nexport type FloatingMenuViewProps = FloatingMenuPluginProps & {\n  /**\n   * The editor view.\n   */\n  view: EditorView\n}\n\nexport class FloatingMenuView {\n  public editor: Editor\n\n  public element: HTMLElement\n\n  public view: EditorView\n\n  public preventHide = false\n\n  public tippy: Instance | undefined\n\n  public tippyOptions?: Partial<Props>\n\n  private getTextContent(node:ProseMirrorNode) {\n    return getText(node, { textSerializers: getTextSerializersFromSchema(this.editor.schema) })\n  }\n\n  public shouldShow: Exclude<FloatingMenuPluginProps['shouldShow'], null> = ({ view, state }) => {\n    const { selection } = state\n    const { $anchor, empty } = selection\n    const isRootDepth = $anchor.depth === 1\n\n    const isEmptyTextBlock = $anchor.parent.isTextblock && !$anchor.parent.type.spec.code && !$anchor.parent.textContent && $anchor.parent.childCount === 0 && !this.getTextContent($anchor.parent)\n\n    if (\n      !view.hasFocus()\n      || !empty\n      || !isRootDepth\n      || !isEmptyTextBlock\n      || !this.editor.isEditable\n    ) {\n      return false\n    }\n\n    return true\n  }\n\n  constructor({\n    editor, element, view, tippyOptions = {}, shouldShow,\n  }: FloatingMenuViewProps) {\n    this.editor = editor\n    this.element = element\n    this.view = view\n\n    if (shouldShow) {\n      this.shouldShow = shouldShow\n    }\n\n    this.element.addEventListener('mousedown', this.mousedownHandler, { capture: true })\n    this.editor.on('focus', this.focusHandler)\n    this.editor.on('blur', this.blurHandler)\n    this.tippyOptions = tippyOptions\n    // Detaches menu content from its current parent\n    this.element.remove()\n    this.element.style.visibility = 'visible'\n  }\n\n  mousedownHandler = () => {\n    this.preventHide = true\n  }\n\n  focusHandler = () => {\n    // we use `setTimeout` to make sure `selection` is already updated\n    setTimeout(() => this.update(this.editor.view))\n  }\n\n  blurHandler = ({ event }: { event: FocusEvent }) => {\n    if (this.preventHide) {\n      this.preventHide = false\n\n      return\n    }\n\n    if (event?.relatedTarget && this.element.parentNode?.contains(event.relatedTarget as Node)) {\n      return\n    }\n\n    if (\n      event?.relatedTarget === this.editor.view.dom\n    ) {\n      return\n    }\n\n    this.hide()\n  }\n\n  tippyBlurHandler = (event: FocusEvent) => {\n    this.blurHandler({ event })\n  }\n\n  createTooltip() {\n    const { element: editorElement } = this.editor.options\n    const editorIsAttached = !!editorElement.parentElement\n\n    if (this.tippy || !editorIsAttached) {\n      return\n    }\n\n    this.tippy = tippy(editorElement, {\n      duration: 0,\n      getReferenceClientRect: null,\n      content: this.element,\n      interactive: true,\n      trigger: 'manual',\n      placement: 'right',\n      hideOnClick: 'toggle',\n      ...this.tippyOptions,\n    })\n\n    // maybe we have to hide tippy on its own blur event as well\n    if (this.tippy.popper.firstChild) {\n      (this.tippy.popper.firstChild as HTMLElement).addEventListener('blur', this.tippyBlurHandler)\n    }\n  }\n\n  update(view: EditorView, oldState?: EditorState) {\n    const { state } = view\n    const { doc, selection } = state\n    const { from, to } = selection\n    const isSame = oldState && oldState.doc.eq(doc) && oldState.selection.eq(selection)\n\n    if (isSame) {\n      return\n    }\n\n    this.createTooltip()\n\n    const shouldShow = this.shouldShow?.({\n      editor: this.editor,\n      view,\n      state,\n      oldState,\n    })\n\n    if (!shouldShow) {\n      this.hide()\n\n      return\n    }\n\n    this.tippy?.setProps({\n      getReferenceClientRect:\n        this.tippyOptions?.getReferenceClientRect || (() => posToDOMRect(view, from, to)),\n    })\n\n    this.show()\n  }\n\n  show() {\n    this.tippy?.show()\n  }\n\n  hide() {\n    this.tippy?.hide()\n  }\n\n  destroy() {\n    if (this.tippy?.popper.firstChild) {\n      (this.tippy.popper.firstChild as HTMLElement).removeEventListener(\n        'blur',\n        this.tippyBlurHandler,\n      )\n    }\n    this.tippy?.destroy()\n    this.element.removeEventListener('mousedown', this.mousedownHandler, { capture: true })\n    this.editor.off('focus', this.focusHandler)\n    this.editor.off('blur', this.blurHandler)\n  }\n}\n\nexport const FloatingMenuPlugin = (options: FloatingMenuPluginProps) => {\n  return new Plugin({\n    key:\n      typeof options.pluginKey === 'string' ? new PluginKey(options.pluginKey) : options.pluginKey,\n    view: view => new FloatingMenuView({ view, ...options }),\n  })\n}\n","import { Extension } from '@tiptap/core'\n\nimport { FloatingMenuPlugin, FloatingMenuPluginProps } from './floating-menu-plugin.js'\n\nexport type FloatingMenuOptions = Omit<FloatingMenuPluginProps, 'editor' | 'element'> & {\n  /**\n   * The DOM element that contains your menu.\n   * @type {HTMLElement}\n   * @default null\n   */\n  element: HTMLElement | null,\n}\n\n/**\n * This extension allows you to create a floating menu.\n * @see https://tiptap.dev/api/extensions/floating-menu\n */\nexport const FloatingMenu = Extension.create<FloatingMenuOptions>({\n  name: 'floatingMenu',\n\n  addOptions() {\n    return {\n      element: null,\n      tippyOptions: {},\n      pluginKey: 'floatingMenu',\n      shouldShow: null,\n    }\n  },\n\n  addProseMirrorPlugins() {\n    if (!this.options.element) {\n      return []\n    }\n\n    return [\n      FloatingMenuPlugin({\n        pluginKey: this.options.pluginKey,\n        editor: this.editor,\n        element: this.options.element,\n        tippyOptions: this.options.tippyOptions,\n        shouldShow: this.options.shouldShow,\n      }),\n    ]\n  },\n})\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}