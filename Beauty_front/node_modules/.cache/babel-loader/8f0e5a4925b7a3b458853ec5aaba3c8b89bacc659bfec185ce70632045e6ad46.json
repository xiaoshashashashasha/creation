{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"text-align\": \"center\",\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"add-box\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  return _openBlock(), _createBlock(_component_el_row, {\n    gutter: 0\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\"路径部分\"), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n      class: \"path\"\n    }, [_createElementVNode(\"p\", {\n      style: {\n        \"font-size\": \"20px\",\n        \"margin-top\": \"5px\"\n      }\n    }, \"标签管理\")], -1 /* HOISTED */)), _createCommentVNode(\" 搜索栏 \"), _cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n      class: \"search\"\n    }, null, -1 /* HOISTED */)), _createCommentVNode(\" 表格区域 \"), _createVNode(_component_el_col, {\n      span: 14\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table, {\n        data: $setup.tableData,\n        style: {\n          \"width\": \"100%\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          prop: \"tag_id\",\n          label: \"标签ID\",\n          width: \"180px\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"tag_name\",\n          label: \"标签名\",\n          width: \"320px\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"created_at\",\n          label: \"创建时间\",\n          width: \"320px\"\n        }), _createVNode(_component_el_table_column, {\n          label: \"操作\",\n          width: \"180px\"\n        }, {\n          default: _withCtx(({\n            row\n          }) => [_createVNode(_component_el_button, {\n            type: \"danger\",\n            size: \"small\",\n            onClick: $event => $setup.handleDelete(row)\n          }, {\n            default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"删除\")])),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"data\"]), _createCommentVNode(\" 分页 \"), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_pagination, {\n        background: \"\",\n        layout: \"prev, pager, next, ->, total\",\n        total: $setup.total,\n        \"current-page\": $setup.pageNum,\n        \"page-size\": $setup.pageSize,\n        onCurrentChange: $setup.handlePageChange\n      }, null, 8 /* PROPS */, [\"total\", \"current-page\", \"page-size\"])])]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 添加标签区域 \"), _createVNode(_component_el_col, {\n      span: 10\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"h3\", null, \"添加标签\", -1 /* HOISTED */)), _createVNode(_component_el_form, {\n        onSubmit: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"]))\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form_item, null, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.tagNameInput,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.tagNameInput = $event),\n            placeholder: \"请输入标签名\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, null, {\n          default: _withCtx(() => [_createVNode(_component_el_button, {\n            type: \"primary\",\n            class: \"btn\",\n            onClick: $setup.handleAddTag\n          }, {\n            default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"添加\")])),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["style","class","_createBlock","_component_el_row","gutter","default","_withCtx","_createCommentVNode","_createElementVNode","_createVNode","_component_el_col","span","_component_el_table","data","$setup","tableData","_component_el_table_column","prop","label","width","row","_component_el_button","type","size","onClick","$event","handleDelete","_cache","_createTextVNode","_","_hoisted_1","_component_el_pagination","background","layout","total","pageNum","pageSize","onCurrentChange","handlePageChange","_hoisted_2","_component_el_form","onSubmit","_withModifiers","_component_el_form_item","_component_el_input","modelValue","tagNameInput","placeholder","handleAddTag"],"sources":["C:\\Users\\32561\\Desktop\\毕设仓库\\beauty-front\\src\\views\\manage\\creation\\TagManage.vue"],"sourcesContent":["<script setup>\r\nimport { ref, onMounted } from \"vue\"\r\nimport { ElMessage } from \"element-plus\"\r\nimport { creationTagList, creationTagAdd, creationTagDel } from \"@/api/creation\"\r\n\r\n// 表格数据\r\nconst tableData = ref([])\r\nconst tagNameInput = ref('')\r\nconst pageNum = ref(1)\r\nconst pageSize = ref(5) // 可自行修改每页数量\r\nconst total = ref(0)\r\n\r\n// 获取标签列表（带分页）\r\nconst fetchTagList = async () => {\r\n  try {\r\n    const result = await creationTagList({\r\n      pageNum: pageNum.value,\r\n      pageSize: pageSize.value\r\n    })\r\n    tableData.value = result.data.items\r\n    total.value = result.data.total\r\n  } catch (err) {\r\n    ElMessage.error(err.msg || \"标签获取失败\")\r\n  }\r\n}\r\n\r\n// 添加标签\r\nconst handleAddTag = async () => {\r\n  if (!tagNameInput.value.trim()) {\r\n    ElMessage.warning(\"标签名不能为空\")\r\n    return\r\n  }\r\n\r\n  try {\r\n    await creationTagAdd({ tag_name: tagNameInput.value.trim() })\r\n    ElMessage.success(\"标签添加成功\")\r\n    tagNameInput.value = ''\r\n    pageNum.value = 1 // 回到第一页\r\n    fetchTagList()\r\n  } catch (err) {\r\n    ElMessage.error(err.msg || \"添加失败\")\r\n  }\r\n}\r\n\r\n// 删除标签\r\nconst handleDelete = async (row) => {\r\n  try {\r\n    await creationTagDel(row.tag_id)\r\n    ElMessage.success(\"删除成功\")\r\n    fetchTagList()\r\n  } catch (err) {\r\n    ElMessage.error(err.msg || \"删除失败\")\r\n  }\r\n}\r\n\r\n// 页码变更\r\nconst handlePageChange = (newPage) => {\r\n  pageNum.value = newPage\r\n  fetchTagList()\r\n}\r\n\r\n// 初始化\r\nonMounted(() => {\r\n  fetchTagList()\r\n})\r\n</script>\r\n\r\n<template>\r\n  <el-row :gutter=\"0\">\r\n    <!--路径部分-->\r\n    <div class=\"path\">\r\n      <p style=\"font-size: 20px; margin-top: 5px\">标签管理</p>\r\n    </div>\r\n\r\n    <!-- 搜索栏 -->\r\n    <div class=\"search\">\r\n\r\n    </div>\r\n    <!-- 表格区域 -->\r\n    <el-col :span=\"14\">\r\n      <el-table :data=\"tableData\" style=\"width: 100%\">\r\n        <el-table-column prop=\"tag_id\" label=\"标签ID\" width=\"180px\"/>\r\n        <el-table-column prop=\"tag_name\" label=\"标签名\" width=\"320px\"/>\r\n        <el-table-column prop=\"created_at\" label=\"创建时间\" width=\"320px\"/>\r\n        <el-table-column label=\"操作\" width=\"180px\">\r\n          <template #default=\"{ row }\">\r\n            <el-button type=\"danger\" size=\"small\" @click=\"handleDelete(row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <div style=\"text-align: center; margin-top: 20px;\">\r\n        <el-pagination\r\n            background\r\n            layout=\"prev, pager, next, ->, total\"\r\n            :total=\"total\"\r\n            :current-page=\"pageNum\"\r\n            :page-size=\"pageSize\"\r\n            @current-change=\"handlePageChange\"\r\n        />\r\n      </div>\r\n    </el-col>\r\n\r\n    <!-- 添加标签区域 -->\r\n    <el-col :span=\"10\">\r\n      <div class=\"add-box\">\r\n        <h3>添加标签</h3>\r\n        <el-form @submit.prevent>\r\n          <el-form-item>\r\n            <el-input v-model=\"tagNameInput\" placeholder=\"请输入标签名\"/>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" class=\"btn\" @click=\"handleAddTag\">添加</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n.path {\r\n  height: 40px;\r\n  width: 100%;\r\n  background-color: #d8a6a6;\r\n}\r\n\r\n.search {\r\n  width: 100%;\r\n  height: 52px;\r\n  background-color: #bbd2e3;\r\n}\r\n\r\n.add-box {\r\n  background-color: #f9f9f9;\r\n  padding: 30px 20px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  height: 900px;\r\n  position: relative;\r\n}\r\n\r\nh3 {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  font-weight: normal;\r\n}\r\n\r\n.btn{\r\n  position: absolute;\r\n  left: 46%;\r\n  margin-top: 40px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}