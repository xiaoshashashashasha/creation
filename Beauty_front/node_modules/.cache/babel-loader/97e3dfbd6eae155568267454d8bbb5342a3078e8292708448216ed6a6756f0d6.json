{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ManageSwitch from \"@/components/ManageSwitch.vue\";\nimport { onMounted, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { userChangeRoleService } from '@/api/user';\nexport default {\n  __name: 'beauty_top',\n  props: {\n    displayMode: {\n      type: Number\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const router = useRouter();\n    const content = ref(false);\n    const create = ref(false);\n    const Mswitch = ref(false);\n    const checkRole = async () => {\n      try {\n        const res = await userChangeRoleService();\n        //一般用户\n        if (res.data === 0) {\n          content.value = true;\n          create.value = true;\n          Mswitch.value = false;\n        } else if (res.data === 1) {\n          content.value = true;\n          create.value = true;\n          Mswitch.value = true;\n        } else if (res.data === 2) {\n          content.value = true;\n          create.value = false;\n          Mswitch.value = false;\n        } else {\n          content.value = false;\n          create.value = false;\n          Mswitch.value = false;\n        }\n      } catch (err) {\n        console.log(err.message);\n      }\n    };\n    // 切换视图时跳转路由\n    const handleModeChange = isManage => {\n      if (isManage) {\n        router.push('/');\n      } else {\n        router.push('/manage');\n      }\n    };\n    onMounted();\n    const __returned__ = {\n      props,\n      router,\n      content,\n      create,\n      Mswitch,\n      checkRole,\n      handleModeChange,\n      ManageSwitch,\n      onMounted,\n      ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get userChangeRoleService() {\n        return userChangeRoleService;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ManageSwitch","onMounted","ref","useRouter","userChangeRoleService","props","__props","router","content","create","Mswitch","checkRole","res","data","value","err","console","log","message","handleModeChange","isManage","push"],"sources":["C:/Users/32561/Desktop/毕设仓库/beauty-front/src/components/beauty_top.vue"],"sourcesContent":["<script setup>\r\nimport ManageSwitch from \"@/components/ManageSwitch.vue\";\r\nimport {defineProps, onMounted, ref} from 'vue'\r\nimport {useRouter} from 'vue-router'\r\nimport {userChangeRoleService} from '@/api/user'\r\n\r\nconst props = defineProps({\r\n  displayMode: {\r\n    type: Number\r\n  }\r\n})\r\n\r\nconst router = useRouter()\r\nconst content = ref(false)\r\nconst create = ref(false)\r\nconst Mswitch = ref(false)\r\n\r\nconst checkRole = async () => {\r\n  try {\r\n    const res = await userChangeRoleService()\r\n    //一般用户\r\n    if (res.data === 0) {\r\n      content.value = true\r\n      create.value = true\r\n      Mswitch.value = false\r\n    } else if (res.data === 1) {\r\n      content.value = true\r\n      create.value = true\r\n      Mswitch.value = true\r\n    } else if (res.data === 2) {\r\n      content.value = true\r\n      create.value = false\r\n      Mswitch.value = false\r\n    } else {\r\n      content.value = false\r\n      create.value = false\r\n      Mswitch.value = false\r\n    }\r\n  } catch (err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n// 切换视图时跳转路由\r\nconst handleModeChange = (isManage) => {\r\n  if (isManage) {\r\n    router.push('/')\r\n  } else {\r\n    router.push('/manage')\r\n  }\r\n}\r\n\r\nonMounted()\r\n\r\n</script>\r\n\r\n<template>\r\n  <div class=\"top-box\">\r\n    <p class=\"logo\">Beauty</p>\r\n\r\n    <!-- 显示按钮部分 -->\r\n    <template v-if=\"create\">\r\n      <el-button class=\"plus_btn\">+</el-button>\r\n    </template>\r\n\r\n    <template v-if=\"content\">\r\n      <el-button class=\"creation_btn\">内 容</el-button>\r\n      <el-button class=\"haristyle_btn\">发 型</el-button>\r\n      <el-button class=\"offline_btn\">线下门店</el-button>\r\n    </template>\r\n\r\n    <!-- 显示切换开关 -->\r\n    <ManageSwitch\r\n        v-if=\"Mswitch\"\r\n        class=\"manage-switch\"\r\n        @modeChange=\"handleModeChange\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n\r\n<style scoped>\r\n.top-box {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 60px;\r\n  background: #beccd3;\r\n}\r\n\r\n.logo {\r\n  font-size: 38px;\r\n  font-family: 'Segoe Script';\r\n}\r\n\r\n.plus_btn {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-65%);\r\n  font-size: 60px;\r\n  top: 5px;\r\n  height: 50px;\r\n  width: 50px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.creation_btn {\r\n  position: absolute;\r\n  font-size: 26px;\r\n  top: 5px;\r\n  right: 17%;\r\n  width: 100px;\r\n  height: 50px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.haristyle_btn {\r\n  position: absolute;\r\n  font-size: 26px;\r\n  top: 5px;\r\n  right: 10%;\r\n  width: 100px;\r\n  height: 50px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.offline_btn {\r\n  position: absolute;\r\n  font-size: 26px;\r\n  top: 5px;\r\n  right: 2%;\r\n  width: 120px;\r\n  height: 50px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.manage-switch {\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 20%;\r\n}\r\n</style>\r\n"],"mappings":";AACA,OAAOA,YAAY,MAAM,+BAA+B;AACxD,SAAqBC,SAAS,EAAEC,GAAG,QAAO,KAAK;AAC/C,SAAQC,SAAS,QAAO,YAAY;AACpC,SAAQC,qBAAqB,QAAO,YAAY;;;;;;;;;;;;IAEhD,MAAMC,KAAK,GAAGC,OAIZ;IAEF,MAAMC,MAAM,GAAGJ,SAAS,CAAC,CAAC;IAC1B,MAAMK,OAAO,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC1B,MAAMO,MAAM,GAAGP,GAAG,CAAC,KAAK,CAAC;IACzB,MAAMQ,OAAO,GAAGR,GAAG,CAAC,KAAK,CAAC;IAE1B,MAAMS,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMR,qBAAqB,CAAC,CAAC;QACzC;QACA,IAAIQ,GAAG,CAACC,IAAI,KAAK,CAAC,EAAE;UAClBL,OAAO,CAACM,KAAK,GAAG,IAAI;UACpBL,MAAM,CAACK,KAAK,GAAG,IAAI;UACnBJ,OAAO,CAACI,KAAK,GAAG,KAAK;QACvB,CAAC,MAAM,IAAIF,GAAG,CAACC,IAAI,KAAK,CAAC,EAAE;UACzBL,OAAO,CAACM,KAAK,GAAG,IAAI;UACpBL,MAAM,CAACK,KAAK,GAAG,IAAI;UACnBJ,OAAO,CAACI,KAAK,GAAG,IAAI;QACtB,CAAC,MAAM,IAAIF,GAAG,CAACC,IAAI,KAAK,CAAC,EAAE;UACzBL,OAAO,CAACM,KAAK,GAAG,IAAI;UACpBL,MAAM,CAACK,KAAK,GAAG,KAAK;UACpBJ,OAAO,CAACI,KAAK,GAAG,KAAK;QACvB,CAAC,MAAM;UACLN,OAAO,CAACM,KAAK,GAAG,KAAK;UACrBL,MAAM,CAACK,KAAK,GAAG,KAAK;UACpBJ,OAAO,CAACI,KAAK,GAAG,KAAK;QACvB;MACF,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC;MAC1B;IACF,CAAC;IACD;IACA,MAAMC,gBAAgB,GAAIC,QAAQ,IAAK;MACrC,IAAIA,QAAQ,EAAE;QACZb,MAAM,CAACc,IAAI,CAAC,GAAG,CAAC;MAClB,CAAC,MAAM;QACLd,MAAM,CAACc,IAAI,CAAC,SAAS,CAAC;MACxB;IACF,CAAC;IAEDpB,SAAS,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}