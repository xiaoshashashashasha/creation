{"ast":null,"code":"import { ref, onMounted } from \"vue\";\nimport { ElMessage } from \"element-plus\";\nexport default {\n  __name: 'RequestManage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const tableData = ref([]);\n    const pageNum = ref(1);\n    const pageSize = ref(10);\n    const total = ref(0);\n    const handlePageChange = newPage => {\n      pageNum.value = newPage;\n    };\n    onMounted(() => {});\n    const __returned__ = {\n      tableData,\n      pageNum,\n      pageSize,\n      total,\n      handlePageChange,\n      ref,\n      onMounted,\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","ElMessage","tableData","pageNum","pageSize","total","handlePageChange","newPage","value"],"sources":["C:/Users/32561/Desktop/毕设仓库/beauty-front/src/views/manage/offline/RequestManage.vue"],"sourcesContent":["<script setup>\r\nimport {ref, onMounted} from \"vue\"\r\nimport {ElMessage} from \"element-plus\"\r\n\r\nconst tableData = ref([])\r\nconst pageNum = ref(1)\r\nconst pageSize = ref(10)\r\nconst total = ref(0)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst handlePageChange = (newPage) => {\r\n  pageNum.value = newPage\r\n\r\n}\r\n\r\nonMounted(() => {\r\n\r\n})\r\n</script>\r\n\r\n<template>\r\n  <el-row :gutter=\"0\">\r\n    <div class=\"path\">\r\n      <p style=\"font-size: 20px; margin-top: 5px\">内容管理</p>\r\n    </div>\r\n\r\n    <div class=\"search\">\r\n\r\n    </div>\r\n\r\n    <el-table :data=\"tableData\" style=\"width: 100%\">\r\n      <el-table-column prop=\"creation_id\" label=\"内容ID\" width=\"120px\"/>\r\n      <el-table-column prop=\"user_id\" label=\"用户ID\" width=\"120px\"/>\r\n      <el-table-column label=\"封面\" width=\"200px\">\r\n        <template #default=\"{ row }\">\r\n          <img :src=\"row.cover_pic\" alt=\"封面\" style=\"width: 200px; height: 100px; object-fit: cover;\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"title\" label=\"标题\" width=\"160px\"/>\r\n      <el-table-column prop=\"class_name\" label=\"分类名\" width=\"120px\"/>\r\n      <el-table-column label=\"更改分类\" width=\"120px\">\r\n        <template #default=\"{ row }\">\r\n          <el-button size=\"small\" @click=\"openClassDialog(row.creation_id)\">更改</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"关联的标签\" width=\"300px\">\r\n        <template #default=\"{ row }\">\r\n          <el-tag\r\n              v-for=\"tag in row.tags\"\r\n              :key=\"tag.tag_id\"\r\n              closable\r\n              @close=\"handleRemoveTag(row.creation_id, tag.tag_id)\"\r\n              style=\"margin-right: 5px; cursor: pointer;\"\r\n          >\r\n            {{ tag.tag_name }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"关联标签\" width=\"120px\">\r\n        <template #default=\"{ row }\">\r\n          <el-button size=\"small\" @click=\"openTagDialog(row.creation_id)\">添加标签</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"查看内容\" width=\"120px\">\r\n        <template #default=\"{ row }\">\r\n          <el-button size=\"small\" @click=\"openContentDialog(row.creation_id)\">查看</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"打回原因\" width=\"240px\">\r\n        <template #default=\"{ row }\">\r\n          <el-input v-model=\"commentMap[row.creation_id]\" placeholder=\"请输入原因\" size=\"small\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"打回稿件\" width=\"120px\">\r\n        <template #default=\"{ row }\">\r\n          <el-button size=\"small\" type=\"danger\" @click=\"handleReject(row)\">打回</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div style=\"text-align: center; margin-top: 20px\">\r\n      <el-pagination\r\n          background\r\n          layout=\"prev, pager, next, ->, total\"\r\n          :total=\"total\"\r\n          :current-page=\"pageNum\"\r\n          :page-size=\"pageSize\"\r\n          @current-change=\"handlePageChange\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 标签选择弹窗 -->\r\n    <el-dialog v-model=\"tagDialogVisible\" title=\"选择标签\" width=\"30%\">\r\n      <el-select v-model=\"selectedTagId\" placeholder=\"请选择标签\" style=\"width: 100%\">\r\n        <el-option\r\n            v-for=\"tag in tagOptions\"\r\n            :key=\"tag.tag_id\"\r\n            :label=\"tag.tag_name\"\r\n            :value=\"tag.tag_id\"\r\n        />\r\n      </el-select>\r\n      <template #footer>\r\n        <el-button @click=\"tagDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"connectTag\">确认</el-button>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- 分类修改弹窗 -->\r\n    <el-dialog v-model=\"classDialogVisible\" title=\"更改分类\" width=\"30%\">\r\n      <el-select v-model=\"selectedClassId\" placeholder=\"请选择新分类\" style=\"width: 100%\">\r\n        <el-option\r\n            v-for=\"cls in SearchClassOptions\"\r\n            :key=\"cls.class_id\"\r\n            :label=\"cls.class_name\"\r\n            :value=\"cls.class_id\"\r\n        />\r\n      </el-select>\r\n      <template #footer>\r\n        <el-button @click=\"classDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"confirmClassChange\">确认</el-button>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- 查看内容弹窗 -->\r\n    <el-dialog v-model=\"contentDialogVisible\" title=\"内容详情\" width=\"50%\">\r\n      <div v-if=\"contentDetail\">\r\n        <h3>{{ contentDetail.title }}</h3>\r\n        <img :src=\"contentDetail.cover_pic\" alt=\"封面\"\r\n             style=\"width: 100%; max-height: 300px; object-fit: contain; margin-bottom: 20px;\"/>\r\n        <div v-html=\"contentDetail.content\"></div>\r\n      </div>\r\n    </el-dialog>\r\n  </el-row>\r\n</template>\r\n\r\n<style scoped>\r\n.path {\r\n  height: 40px;\r\n  width: 100%;\r\n  background-color: #d8a6a6;\r\n}\r\n\r\n.search {\r\n  width: 100%;\r\n  height: 52px;\r\n  background-color: #bbd2e3;\r\n}\r\n\r\n::v-deep(.el-table__row) {\r\n  height: 100px;\r\n}\r\n</style>\r\n"],"mappings":"AACA,SAAQA,GAAG,EAAEC,SAAS,QAAO,KAAK;AAClC,SAAQC,SAAS,QAAO,cAAc;;;;;;;IAEtC,MAAMC,SAAS,GAAGH,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMI,OAAO,GAAGJ,GAAG,CAAC,CAAC,CAAC;IACtB,MAAMK,QAAQ,GAAGL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,KAAK,GAAGN,GAAG,CAAC,CAAC,CAAC;IAQpB,MAAMO,gBAAgB,GAAIC,OAAO,IAAK;MACpCJ,OAAO,CAACK,KAAK,GAAGD,OAAO;IAEzB,CAAC;IAEDP,SAAS,CAAC,MAAM,CAEhB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}